<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: GoogleAuthService</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: GoogleAuthService</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature">(package) </span></span>GoogleAuthService<span class="signature">()</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="GoogleAuthService"><span class="type-signature">(package) </span>new GoogleAuthService<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Exposed as a <code>$gapi</code> member of the <a href="Vue.html">Vue</a> instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getGapiClient"><span class="type-signature"></span>getGapiClient<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#GoogleAuth">GoogleAuth</a>>}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#GoogleAuth">GoogleAuth</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getOfflineAccessCode"><span class="type-signature"></span>getOfflineAccessCode<span class="signature">()</span><span class="type-signature"> &rarr; {string|null}</span></h4>
    

    



<div class="description">
    Returns the authorization code set via <a href="GoogleAuthService.html#grantOfflineAccess">GoogleAuthService#grantOfflineAccess</a>.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUserData"><span class="type-signature"></span>getUserData<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="GoogleAuthService.html#UserData">GoogleAuthService#UserData</a>}</span></h4>
    

    



<div class="description">
    Gets the user data from local storage
</div>













<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.0.10</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line451">line 451</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="GoogleAuthService.html#UserData">GoogleAuthService#UserData</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="grant"><span class="type-signature"></span>grant<span class="signature">(onResolve<span class="signature-attributes">opt</span>, onReject<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;GoogleUser>}</span></h4>
    

    



<div class="description">
    Ask to grant scopes from user.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>onResolve</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onResolved">onResolved</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onReject</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onRejected">onRejected</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.3.2</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line271">line 271</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleusergrantoptions">GoogleUser.grant</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;GoogleUser></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>&lt;script>
  export default {
    name: 'grant-scope',

    methods: {
      grant() {
        return this.$gapi.grant()
      },
    },
  }
&lt;/script></code></pre>



        
            

    

    
    <h4 class="name" id="grantOfflineAccess"><span class="type-signature"></span>grantOfflineAccess<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Get permission from the user to access the specified scopes offline.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleauthgrantofflineaccessoptions">GoogleAuth.grantOfflineAccess</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="hasGrantedRequestedScopes"><span class="type-signature"></span>hasGrantedRequestedScopes<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Check if requested scopes were granted or not.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line144">line 144</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isAuthenticated"><span class="type-signature"></span>isAuthenticated<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Determines if the user is signed in via local storage.
</div>













<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.0.10</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line357">line 357</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>&lt;script>
  export default {
    name: 'login-shortcut-check',

    methods: {
      login() {
        if (this.$gapi.isAuthenticated() !== true) {
          this.$gapi.login()
        }
      },
    },
  }
&lt;/script></code></pre>



        
            

    

    
    <h4 class="name" id="isSignedIn"><span class="type-signature"></span>isSignedIn<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Determines if the user is signed in via Google. Can be used inside v-if views.
</div>













<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.0.10</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line384">line 384</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleuserissignedin">GoogleUser.isSignedIn</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>&lt;script>
  export default {
    name: 'is-signed-in',

    computed: {
      isSignedIn() {
        return this.$gapi.isSignedIn()
      },
    },
  }
&lt;/script></code></pre>



        
            

    

    
    <h4 class="name" id="listenUserSignIn"><span class="type-signature"></span>listenUserSignIn<span class="signature">(callback)</span><span class="type-signature"> &rarr; {boolean|<a href="GoogleAuthService.html#UserData">GoogleAuthService#UserData</a>}</span></h4>
    

    



<div class="description">
    Accept the callback to be notified when the authentication status changes.
Will also determine if the login token is valid using google methods and return UserData or false
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">the callback function to be notified of an authentication status change</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>0.0.10</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line411">line 411</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleauthissignedinlistenlistener">GoogleAuth.isSignedIn.listen</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    False if NOT authenticated, UserData if authenticated
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>
|

<span class="param-type"><a href="GoogleAuthService.html#UserData">GoogleAuthService#UserData</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="login"><span class="type-signature"></span>login<span class="signature">(onResolve<span class="signature-attributes">opt</span>, onReject<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#LoginResponse">LoginResponse</a>>}</span></h4>
    

    



<div class="description">
    Signs in the user.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>onResolve</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onResolved">onResolved</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onReject</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onRejected">onRejected</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line167">line 167</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleauthsignin">GoogleAuth.signIn</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#LoginResponse">LoginResponse</a>></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>&lt;script>
  export default {
    name: 'login-shortcut',

    methods: {
      login() {
        this.$gapi.login().then((resp) => {
          console.log( resp, resp.hasGrantedScopes );
        })
      },
    },
  }
&lt;/script></code></pre>



        
            

    

    
    <h4 class="name" id="logout"><span class="type-signature"></span>logout<span class="signature">(onResolve<span class="signature-attributes">opt</span>, onReject<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Signs out the current account from the application.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>onResolve</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onResolved">onResolved</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onReject</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#onRejected">onRejected</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line317">line 317</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleauthsignout">GoogleAuth.signOut</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>&lt;script>
  export default {
    name: 'logout-shortcut',

    methods: {
      login() {
        this.$gapi.logout()
      },
    },
  }
&lt;/script></code></pre>



        
            

    

    
    <h4 class="name" id="refreshToken"><span class="type-signature"></span>refreshToken<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Forces a refresh of the access token.

This should be placed in your App.vue on the created page and run on a timer of 45min.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line237">line 237</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleuserreloadauthresponse">GoogleUser.reloadAuthResponse</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>&lt;script>
    name: 'App'

    created () {
    try {
      // NOTE: 45min refresh policy is what google recommends
      window.setInterval(this.$gapi.refreshToken(), 2.7e+6)
    } catch (e) {
      console.error(e)
    }

  }
&lt;/script></code></pre>



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="UserData">UserData</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">user's unique ID string</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>firstName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">given name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lastName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">family name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fullName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">full name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>imageUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>expiresAt</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accessToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">granted access token</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>idToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">granted ID token</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GoogleAuthService.js.html">GoogleAuthService.js</a>, <a href="GoogleAuthService.js.html#line434">line 434</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#gapiauth2authresponse">gapi.auth2.AuthResponse</a></li>
        
            <li><a href="https://developers.google.com/identity/sign-in/web/reference#googleusergetbasicprofile">GoogleUser.getBasicProfile</a></li>
        </ul>
    </dd>
    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-vue-gapi.html">vue-gapi</a></li></ul><h3>Classes</h3><ul><li><a href="GoogleAuthService.html">GoogleAuthService</a></li><li><a href="Vue.html">Vue</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue Dec 08 2020 00:08:19 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>